:root{--card:rgba(255,255,255,.10);--stroke:rgba(255,255,255,.16);--text:#f3f3f6;--muted:rgba(243,243,246,.72);--accent:#ffcc66;--danger:#ff5a5f;--shadow:0 18px 60px rgba(0,0,0,.35);--radius:18px}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:ui-rounded,system-ui,-apple-system,"SF Pro Display","Avenir Next",Arial,sans-serif;color:var(--text);
background:radial-gradient(900px 600px at 20% 0%, rgba(255,204,102,.18), transparent 60%),radial-gradient(900px 600px at 90% 10%, rgba(120,180,255,.18), transparent 60%),linear-gradient(180deg,#0c0c10 0%,#12131b 100%)}
/* Topbar */
.topbar{position:sticky;top:0;z-index:10;padding:14px 14px 10px;background:rgba(12,12,16,.70);backdrop-filter:blur(14px);border-bottom:1px solid rgba(255,255,255,.08);position:relative;}

/* Sync / Account status (oben rechts)
   Fix: Overlay darf Tabs/Brand nicht "blocken" (pointer-events) und auf kleineren
   Screens wird der Block in den Flow verschoben.
*/
.topbar__right{position:absolute; top:14px; right:14px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:flex-end; pointer-events:none;}
.topbar__right > *{pointer-events:auto;}

/* Reserve space so brand text doesn't sit under the pills (desktop) */
.topbar .brand{padding-right:min(360px, 48vw);} 

@media (max-width: 820px){
  /* On iPad portrait / smaller widths, move status under brand to avoid overlap */
  .topbar__right{position:static; margin-top:8px; justify-content:flex-start;}
  .topbar .brand{padding-right:0; margin-bottom:6px;}
}
.sync-pill{font-size:12px; font-weight:800; padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.08); color:var(--text); white-space:nowrap; max-width:72vw; overflow:hidden; text-overflow:ellipsis;}
.sync-user{font-size:12px; color:var(--muted); font-weight:750; padding:8px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.10); background:rgba(0,0,0,.12); white-space:nowrap; max-width:72vw; overflow:hidden; text-overflow:ellipsis;}
.sync-box{padding:12px; border-radius:14px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.06); color:var(--text); font-size:13px; line-height:1.4;}
.brand{display:flex;gap:12px;align-items:center;margin-bottom:10px}
.brand__logo{width:48px;height:48px;border-radius:14px;background:rgba(255,255,255,.10);padding:7px;object-fit:contain;filter:drop-shadow(0 8px 22px rgba(0,0,0,.35));border:1px solid rgba(255,255,255,.10)}
.brand__title{font-weight:800;font-size:16px}

.brand__logo--prominent{width:68px;height:68px;padding:9px;border-radius:18px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.14);}
.brand__logo--animated{transform-origin:center;animation:logoFloat 5.5s ease-in-out infinite;}
@keyframes logoFloat{0%,100%{transform:translateY(0) scale(1);}50%{transform:translateY(-3px) scale(1.03);}}
@media (prefers-reduced-motion: reduce){
  .brand__logo--animated{animation:none;}
}

.brand__sub{color:var(--muted);font-size:12px;margin-top:2px}
.tabs{display:flex;gap:8px;flex-wrap:wrap}
.tab{border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06);color:var(--text);padding:10px 12px;border-radius:999px;cursor:pointer;font-weight:650}
.tab.is-active{border-color:rgba(255,204,102,.35);background:rgba(255,204,102,.12)}
.shell{max-width:980px;margin:16px auto;padding:0 14px 60px}
.panel{display:none}.panel.is-active{display:block}
.card{background:var(--card);border:1px solid var(--stroke);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);margin-bottom:14px;backdrop-filter:blur(14px)}
.card h1{margin:0 0 12px}.card h2{margin:0 0 10px}.muted{color:var(--muted);font-size:13px}
.hint{margin-top:10px;color:var(--muted);font-size:13px}
.row{display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap}.row.between{justify-content:space-between;align-items:center}
.field{display:flex;flex-direction:column;gap:6px;min-width:240px;flex:1}
.field span{font-size:12px;color:var(--muted);font-weight:700}
input,select,textarea{width:100%;padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(10,10,14,.55);color:var(--text);outline:none}
textarea{min-height:88px;resize:vertical}
.btn{padding:12px 14px;border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.08);color:var(--text);cursor:pointer;font-weight:750}
.btn.ghost{background:rgba(0,0,0,0.12);border:1px solid rgba(255,255,255,0.12);}
.btnrow{display:flex; gap:10px; align-items:center; flex-wrap:wrap;}
.btn[disabled]{opacity:.5; filter:saturate(.6); cursor:not-allowed;}

.btn.primary{background:rgba(255,204,102,.18);border-color:rgba(255,204,102,.35)}
.btn.danger{background:rgba(255,90,95,.14);border-color:rgba(255,90,95,.35)}
.list{display:flex;flex-direction:column;gap:10px}
.item{padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);display:flex;justify-content:space-between;align-items:center;gap:10px}
.item small{display:block;color:var(--muted);margin-top:4px}
.actions{display:flex;gap:8px;flex-wrap:wrap}
.smallbtn{padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.08);color:var(--text);cursor:pointer;font-weight:700}
.sigWrap{display:flex;flex-direction:column;gap:10px}
#sigPad{width:100%;height:auto;border-radius:16px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.95);touch-action:none}
.sticky{position:sticky;top:122px;z-index:9}
.footer{position:fixed;bottom:0;left:0;right:0;padding:10px 14px;background:rgba(12,12,16,.70);border-top:1px solid rgba(255,255,255,.08);backdrop-filter:blur(14px);color:var(--muted);font-size:12px}

/* ===== Weg 2B: Auth Gate ===== */
.authgate{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.55);z-index:9999;padding:18px}
.authgate__card{width:min(720px,100%);background:rgba(18,18,22,.92);border:1px solid rgba(255,255,255,.12);border-radius:24px;padding:18px 18px 16px;box-shadow:0 10px 40px rgba(0,0,0,.55);backdrop-filter:blur(18px)}


/* Etappe 2: Kunden/Hunde Editor Layout */
.grid2{display:grid;grid-template-columns:1fr;gap:12px}
@media (min-width:900px){.grid2{grid-template-columns:1fr 1fr}}


.req{color:#d00;font-weight:700;margin-left:4px;}
.opt{margin-top:10px;}
.opt > summary{cursor:pointer;color:#333;font-weight:600;}
.field input:disabled,.field textarea:disabled,.field select:disabled{opacity:0.85;}
.readonlyField input,.readonlyField textarea{background:#f4f4f4;}



.field input, .field select, .field textarea{
  width:100%;
  box-sizing:border-box;
}

.field input[type="date"]{
  min-height:44px;
}

.is-readonly{
  opacity:0.9;
}


/* === Dashboard (Start) === */
.dashboard{display:flex;flex-direction:column;gap:18px}
.hero-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px}
.hero-card{padding:18px;border-radius:18px;background:rgba(255,255,255,0.14);backdrop-filter:blur(14px);border:1px solid rgba(255,255,255,0.12)}
.hero-header{display:flex;align-items:center;gap:8px;font-size:16px;opacity:.9}
.hero-icon{font-size:18px}
.hero-title{font-weight:600}
.hero-value{font-size:38px;font-weight:700;letter-spacing:-.5px;margin:10px 0 12px 0}
.hero-bar{height:9px;background:rgba(0,0,0,0.12);border-radius:8px;overflow:hidden}
.hero-bar-fill{height:100%;width:0%;background:#4caf50;transition:width .25s ease}
.hero-sub{margin-top:8px;font-size:14px;opacity:.75}

.forecast-list{display:flex;flex-direction:column;gap:10px;margin-top:8px}
.forecast-row{display:grid;grid-template-columns:70px 1fr;gap:12px;align-items:center;padding:10px 0;border-bottom:1px solid rgba(255,255,255,0.08)}
.forecast-row:last-child{border-bottom:none}
.forecast-date{font-variant-numeric:tabular-nums;opacity:.85}
.forecast-bar{display:grid;grid-template-columns:22px 1fr 64px;gap:10px;align-items:center}
.forecast-icon{opacity:.9}
.forecast-count{font-variant-numeric:tabular-nums;opacity:.8;text-align:right}
.mini-bar{height:7px;background:rgba(0,0,0,0.14);border-radius:8px;overflow:hidden}
.mini-bar-fill{height:100%;background:#4caf50}

.quick-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px;margin-top:10px}
.quick-actions .btn{padding:14px 14px;border-radius:14px}

.card.warning{background:rgba(255,180,0,0.12);border:1px solid rgba(255,180,0,0.18)}
.warning-list{display:flex;flex-direction:column;gap:6px;opacity:.9;margin-top:8px}

/* === DashboardC v2: Logo pr√§senter + Tap-Fix === */
.brand__logo{width:54px;height:54px;opacity:1;filter:drop-shadow(0 2px 6px rgba(0,0,0,.45));}
.brand__title{font-size:20px;letter-spacing:.2px;}
.topbar{padding:14px 18px;}
.tab, button{cursor:pointer;touch-action:manipulation;}
button:disabled{cursor:not-allowed;}
.tabs{gap:10px;flex-wrap:wrap;}

.brand__logo--big{width:92px;height:92px;opacity:1;padding:10px;border-radius:24px;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.14);filter:drop-shadow(0 10px 28px rgba(0,0,0,.45));}


/* === Background watermark (big logo) === */
body.bg-watermark {
  position: relative;
}
body.bg-watermark::before {
  content: "";
  position: fixed;
  inset: -12vh -12vw;
  background: url("assets/logo.png") center center / min(92vw, 920px) no-repeat;
  opacity: 0.085;
  filter: blur(0.6px) saturate(0.95);
  transform: translateZ(0);
  pointer-events: none;
  z-index: 0;
}
body.bg-watermark::after {
  content: "";
  position: fixed;
  inset: 0;
  background: radial-gradient(ellipse at center, rgba(16,16,20,0.35) 0%, rgba(16,16,20,0.82) 70%, rgba(16,16,20,0.92) 100%);
  pointer-events: none;
  z-index: 0;
}
/* Ensure app content sits above watermark */
.topbar, .shell, .modal, .toast {
  position: relative;
  z-index: 1;
}

/* === Dashboard big centered brand === */
.dashboard-brand{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  gap:10px;
  margin: 8px 0 10px 0;
}
.dashboard-brand__logo{
  width: clamp(120px, 18vw, 220px);
  height: auto;
  opacity: 0.98;
  filter: drop-shadow(0 8px 20px rgba(0,0,0,0.35));
  animation: floatBrand 6s ease-in-out infinite;
}
.dashboard-brand__title{
  font-size: clamp(18px, 2.2vw, 26px);
  font-weight: 650;
  letter-spacing: 0.2px;
  opacity: 0.92;
}
/* Dezent ‚Äì respektiert iOS "Bewegung reduzieren" */
@keyframes floatBrand {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-6px) scale(1.01); }
}
@media (prefers-reduced-motion: reduce) {
  .dashboard-brand__logo, .brand__logo--animated { animation: none !important; }
}

/* === Login page: center the brand in header === */
body.page-login .topbar .brand{
  margin: 0 auto;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 10px;
}
body.page-login .topbar .brand__text{ align-items:center; }
body.page-login .topbar .brand__sub{ opacity:0.8; }


/* ===== Contract (Etappe 7B) ===== */
.contract-wrap{display:grid;grid-template-columns: 1.6fr 1fr; gap:16px; align-items:start;}
@media (max-width: 900px){ .contract-wrap{grid-template-columns: 1fr;} }

.contract-doc{border-radius:18px;background:rgba(255,255,255,0.10);backdrop-filter:blur(14px);border:1px solid rgba(255,255,255,0.10);overflow:hidden;}
.contract-head{padding:16px;border-bottom:1px solid rgba(255,255,255,0.10);}
.contract-brand{display:flex;gap:12px;align-items:center;}
.contract-logo{width:54px;height:54px;object-fit:contain;filter:drop-shadow(0 10px 20px rgba(0,0,0,.35));}
.contract-title{font-size:18px;font-weight:700;}
.contract-meta{font-size:13px;opacity:.75;margin-top:2px;}

.contract-text{padding:16px;max-height:60vh;overflow:auto;line-height:1.5;font-size:14px;}
.contract-text h4{margin:14px 0 6px;font-size:15px;}
.contract-text p, .contract-text li{opacity:.92;}
.contract-text ul{margin:6px 0 10px 18px;}

.contract-side{display:flex;flex-direction:column;gap:14px;}
.contract-card{border-radius:18px;background:rgba(255,255,255,0.10);backdrop-filter:blur(14px);border:1px solid rgba(255,255,255,0.10);padding:16px;}
.checkline{display:flex;gap:10px;align-items:flex-start;margin:10px 0;}
.checkline input{margin-top:2px;}
.sigbox{border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,0.12);background:rgba(0,0,0,0.20);}
#contractSig{display:block;width:100%;height:auto;touch-action:none; background:rgba(255,255,255,0.02);}


/* Contract warning banner */
.warn-banner{
  padding:12px 14px;
  border-radius:14px;
  background: rgba(255, 180, 0, 0.16);
  border: 1px solid rgba(255, 180, 0, 0.35);
  color: rgba(255,255,255,0.92);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.warn-banner .muted{opacity:0.9;}
.warn-banner button{white-space:nowrap;}


.glass-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin-top:14px}
.glass-card{display:block;text-align:left;padding:14px;border-radius:18px;border:1px solid rgba(255,255,255,.10);background:rgba(18,18,22,.55);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);box-shadow:0 18px 50px rgba(0,0,0,.35);color:inherit}
.glass-card:active{transform:translateY(1px)}
.glass-card__title{font-weight:800;font-size:16px;margin-bottom:4px}
.glass-card__sub{opacity:.8;font-size:13px;line-height:1.25}
.workforms-view{margin-top:16px}
.wf-form{padding:14px;border-radius:18px;border:1px solid rgba(255,255,255,.10);background:rgba(18,18,22,.45);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px)}
.wf-row{display:flex;gap:10px;flex-wrap:wrap}
.wf-row .field{flex:1;min-width:180px}
.wf-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.wf-archive-item{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:10px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.08);background:rgba(0,0,0,.18);margin-top:10px}
.wf-archive-item .meta{opacity:.85;font-size:13px}

/* ===== Belegungskalender (Monatsansicht) ===== */
.pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);font-size:12px;font-weight:700;line-height:1}
.pill.warn{border-color:rgba(255,82,82,.32);background:rgba(255,82,82,.10);color:rgba(255,220,220,.95)}

.cal-month{font-weight:900;letter-spacing:.2px;padding:8px 10px;border-radius:14px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10)}
/* Use minmax(0,1fr) so the grid can shrink without forcing horizontal overflow */
.cal-grid{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:8px}
.cal-dow{font-size:12px;font-weight:800;opacity:.85;text-align:center;padding:6px 0}
.cal-cell{position:relative;min-height:86px;padding:10px;border-radius:16px;border:1px solid rgba(255,255,255,.10);background:rgba(18,18,22,.45);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);cursor:pointer;transition:transform .08s ease, border-color .12s ease, background .12s ease; min-width:0}
.cal-cell:active{transform:translateY(1px)}
.cal-cell.is-other{opacity:.45}
.cal-cell.is-today{border-color:rgba(120,190,255,.45)}
.cal-cell.is-selected{border-color:rgba(255,255,255,.35);background:rgba(255,255,255,.08)}
.cal-cell.is-over{border-color:rgba(255,82,82,.55);background:rgba(255,82,82,.10)}
.cal-date{font-weight:900;font-size:14px}
.cal-badges{margin-top:8px;display:flex;flex-direction:column;gap:6px}
.cal-badge{display:flex;justify-content:space-between;align-items:center;gap:8px;padding:6px 8px;border-radius:12px;border:1px solid rgba(255,255,255,.10);background:rgba(0,0,0,.16);font-size:12px; min-width:0}
.cal-badge strong{font-weight:900}
.cal-badge .muted{opacity:.8;font-size:12px}
 .cal-free{margin-top:6px;font-size:11px;opacity:.88; overflow:hidden; text-overflow:ellipsis; white-space:nowrap}
.cal-bars{margin-top:6px;display:flex;flex-direction:column;gap:5px}
.cal-bar{height:6px;border-radius:999px;overflow:hidden;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.10)}
.cal-bar .fill{height:100%;background:rgba(255,255,255,.35)}
.pill.toggle{cursor:pointer;user-select:none;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.08)}
.pill.toggle.is-off{opacity:.45;filter:saturate(.6)}
.cal-warnchip{position:absolute;top:10px;right:10px;font-size:12px;font-weight:900;padding:4px 7px;border-radius:999px;background:rgba(255,82,82,.20);border:1px solid rgba(255,82,82,.40)}

/* iPad / schmale Layouts: kompakter, damit nichts √ºberl√§uft */
@media (max-width: 900px){
  .cal-grid{gap:6px}
  .cal-cell{padding:8px;border-radius:14px}
  .cal-date{font-size:13px}
  .cal-badge{font-size:11px;padding:5px 7px}
  .cal-badge .muted{font-size:11px}
  .cal-free{font-size:10px}
  .cal-warnchip{top:8px;right:8px}
}

@media (max-width: 520px){
  .cal-cell{min-height:78px;padding:9px}
  .cal-badges{gap:5px}
  .cal-badge{padding:5px 7px}
}


/* --- Mobile tidy: hide subtitle, make sync/account less menu-like --- */
@media (max-width: 520px){
  .brand__sub{display:none !important;}
  .topbar__right{gap:4px !important;}
  .sync-pill,
  .sync-user{
    background:transparent !important;
    border:none !important;
    box-shadow:none !important;
    padding:2px 0 !important;
    border-radius:0 !important;
    font-size:11px !important;
    font-weight:600 !important;
    letter-spacing:0 !important;
    opacity:.85 !important;
    max-width:92vw !important;
  }
  .sync-user{opacity:.65 !important;}

  /* make it look like status text, not a menu pill */
  .sync-pill::before{content:"‚òÅÔ∏è ";}
  .sync-user::before{content:"üë§ ";}
}

/* Desktop/Tablet: keep compact status, not a nav pill */
.sync-pill{
  background:rgba(255,255,255,.06) !important;
  border:1px solid rgba(255,255,255,.10) !important;
  box-shadow:none !important;
}
.sync-user{
  background:transparent !important;
  border:none !important;
  box-shadow:none !important;
  padding:2px 6px !important;
}
