<!DOCTYPE html>

<html lang="de">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport"/>
<title>Doggy Style Workspace Â· App</title>
<link href="manifest.json" rel="manifest"/>
<meta content="#101014" name="theme-color"/>
<link href="assets/logo.png" rel="apple-touch-icon"/>
<link href="styles.css?v=20251228c" rel="stylesheet"/>
</head>
<body class="bg-watermark page-app">
<header class="topbar">
<div class="brand">
<img alt="Doggy Style" class="brand__logo brand__logo--prominent brand__logo--animated" src="assets/logo.png"/>
<div class="brand__text">
<div class="brand__title">Doggy Style Workspace</div>
<div class="brand__sub">Formularmappe Â· Offline Â· iPadâ€‘freundlich</div>
</div>
</div>

<!-- Sync/Account Status (klein, oben rechts) -->
<div class="topbar__right">
  <div class="sync-pill" id="syncStatus" title="Speicher- & Sync-Status">Offline</div>
  <div class="sync-user" id="syncUser" title="Aktiver Benutzer" style="display:none"></div>
</div>
<nav class="tabs" role="tablist">
<button class="tab is-active" data-tab="home">Start</button>
<button class="tab" data-tab="calendar" id="tabCalendar">Kalender</button>
<button class="tab" data-tab="inbox" id="tabInbox">EingÃ¤nge</button>
<button class="tab" data-tab="documents">Aufenthalte</button>
<button class="tab" data-tab="dogs">Hunde/Kunden</button>
<button class="tab" data-tab="contract">Betreuungsvertrag</button>
<button class="tab" data-tab="workforms">ArbeitsblÃ¤tter</button>
<button class="tab" data-tab="settings">Einstellungen</button><button class="tab" data-tab="invoices">Rechnungen</button>
</nav>
</header>
<main class="shell">
<section class="panel is-active" id="home">
<section class="dashboard">
<div class="dashboard-brand">
  <img src="assets/logo.png" alt="Doggy Style" class="dashboard-brand__logo"/>
  <div class="dashboard-brand__title">Doggy Style Workspace</div>
</div>

<!-- HERO -->
<div class="hero-cards">
<div class="hero-card">
<div class="hero-header">
<span class="hero-icon">ğŸ•</span>
<span class="hero-title">Tagesbetreuung</span>
</div>
<div class="hero-value" id="todayDaycareValue">0 / 13</div>
<div class="hero-bar"><div class="hero-bar-fill" id="todayDaycareBar"></div></div>
<div class="hero-sub" id="todayDaycareText">Ruhiger Tag</div>
</div>
<div class="hero-card">
<div class="hero-header">
<span class="hero-icon">ğŸ¡</span>
<span class="hero-title">Urlaubsbetreuung</span>
</div>
<div class="hero-value" id="todayBoardingValue">0 / 10</div>
<div class="hero-bar"><div class="hero-bar-fill" id="todayBoardingBar"></div></div>
<div class="hero-sub" id="todayBoardingText">Ruhiger Tag</div>
</div>
</div>
<!-- Forecast -->
<div class="card">
<h2>Auslastung â€“ nÃ¤chste 14 Tage</h2>
<div class="forecast-list" id="forecastList"></div>
</div>
<!-- Quick actions -->
<div class="card">
<h2>Schnellaktionen</h2>
<div class="quick-actions">
<button class="btn primary" onclick="createStay()">â• Neuer Aufenthalt</button>
<button class="btn" onclick="openDogs()">ğŸ¶ Hunde/Kunden</button>
<button class="btn" onclick="openInvoices()">ğŸ§¾ Rechnungen</button>
<button class="btn" onclick="selectTab('settings')">âš™ï¸ Einstellungen</button>
</div>
<!-- Hidden legacy controls (kept for compatibility) -->
<div class="row" style="display:none">
<label class="field">
<span>Vorlage</span>
<select id="templateSelect"></select>
</label>
<button class="btn primary" id="btnNewDoc">Aufenthalt erstellen</button>
</div>
<div class="hint">
<strong>Tipp:</strong> Installiere die App als PWA: In Safari <em>Teilen â†’ Zum Homeâ€‘Bildschirm</em>.
      </div>
</div>
<!-- Warnings -->
<div class="card warning" id="dashboardWarnings" style="display:none"></div>
<!-- Recent -->
<div class="card">
<h2>Zuletzt</h2>
<div class="list" id="recentList"></div>
</div>
</section>
</section>

<!-- KALENDER (Monatsansicht) -->
<section class="panel" id="calendar">
  <div class="card">
    <div class="row between" style="gap:10px; flex-wrap:wrap; align-items:center;">
      <div>
        <h1 style="margin:0">Belegungskalender</h1>
        <p class="muted" style="margin:6px 0 0 0">Monatsansicht Â· Tagesbetreuung &amp; Urlaubsbetreuung Â· KapazitÃ¤tswarnungen</p>
      </div>
      <div class="row" style="gap:8px; flex-wrap:wrap; align-items:center;">
        <button class="btn" id="btnCalPrev">â—€</button>
        <div class="cal-month" id="calMonthLabel">â€”</div>
        <button class="btn" id="btnCalNext">â–¶</button>
        <button class="btn" id="btnCalToday">Heute</button>
      </div>
    </div>

    
    <div class="row" style="gap:10px; flex-wrap:wrap; margin-top:10px;">
      <div class="muted" style="font-weight:800;">Filter:</div>
      <button class="pill toggle" id="calFilterUrlaub" type="button">ğŸ¡ Urlaub</button>
      <button class="pill toggle" id="calFilterTages" type="button">ğŸ• Tages</button>
      <div class="muted" id="calFreeHint" style="margin-left:auto;">Freie PlÃ¤tze werden pro Tag angezeigt.</div>
    </div>
<div class="cal-legend" style="margin-top:10px;">
      <span class="pill">ğŸ¡ Urlaubsbetreuung</span>
      <span class="pill">ğŸ• Tagesbetreuung</span>
      <span class="pill warn">âš ï¸ Ã¼ber KapazitÃ¤t</span>
    </div>

    <div class="cal-grid" id="calGrid" style="margin-top:12px;"></div>
  </div>

  <div class="card" id="calDayDetail" style="display:none;">
    <div class="row between" style="gap:10px; flex-wrap:wrap;">
      <div>
        <h2 id="calDayTitle" style="margin:0">â€”</h2>
        <div class="muted" id="calDayMeta" style="margin-top:6px"></div>
      </div>
      <div class="row" style="gap:8px; flex-wrap:wrap;">
        <button class="btn" id="btnCalCloseDay">SchlieÃŸen</button>
      </div>
    </div>
    <div class="list" id="calDayList" style="margin-top:10px"></div>
  </div>
</section>

<!-- CUSTOMER PORTAL (nur fÃ¼r Rolle customer sichtbar) -->
<section class="panel" id="customerPortal">
  <div class="card" style="max-width:900px;margin:0 auto;">
    <div class="row between" style="align-items:flex-start; gap:12px; flex-wrap:wrap;">
      <div>
        <h1 style="margin:0">Kundenportal</h1>
        <p class="muted" id="customerPortalSubtitle" style="margin:6px 0 0 0;">Aktuell liegen keine Aufgaben fÃ¼r dich vor.</p>
      </div>
      <button class="btn" id="btnCustomerLogout">Abmelden</button>
    </div>
    <div class="hint" style="margin-top:10px">
      <strong>Hinweis:</strong> Hier siehst du nur Aufgaben/Formulare, die Doggy Style Hundepension fÃ¼r dich freigegeben hat.
    </div>
  </div>

  <div class="card" style="max-width:900px;margin:12px auto 0 auto;">
    <h2>Deine Aufgaben</h2>
    <div class="list" id="customerTaskList"></div>
  </div>

  <div class="card" id="customerTaskEditor" style="max-width:900px;margin:12px auto 0 auto; display:none;">
    <div class="row between" style="gap:10px; flex-wrap:wrap;">
      <div>
        <h2 id="customerTaskTitle" style="margin:0">Aufgabe</h2>
        <div class="muted" id="customerTaskMeta" style="margin-top:6px"></div>
      </div>
      <div class="row" style="gap:10px; flex-wrap:wrap;">
        <button class="btn" id="btnCustomerTaskBack">ZurÃ¼ck</button>
        <button class="btn primary" id="btnCustomerTaskSubmit">Absenden</button>
      </div>
    </div>
    <div id="customerTaskFormRoot" style="margin-top:12px"></div>
    <div class="hint" id="customerTaskSaveHint" style="margin-top:10px"></div>
  </div>
</section>

<!-- INBOX (Admin/Mitarbeiter) -->
<section class="panel" id="inbox">
  <div class="card">
    <div class="row between" style="flex-wrap:wrap; gap:12px;">
      <div>
        <h1 style="margin:0">EingÃ¤nge</h1>
        <p class="muted" style="margin:6px 0 0 0;">Kundenformulare, die eingereicht wurden.</p>
      </div>
      <button class="btn" id="btnInboxRefresh">Aktualisieren</button>
    </div>
    <div class="list" id="inboxList" style="margin-top:10px"></div>
  </div>

  <div class="card" id="inboxDetail" style="display:none;">
    <div class="row between" style="gap:10px; flex-wrap:wrap;">
      <div>
        <h2 id="inboxDetailTitle" style="margin:0">Eingang</h2>
        <div class="muted" id="inboxDetailMeta" style="margin-top:6px"></div>
      </div>
      <div class="row" style="gap:10px; flex-wrap:wrap;">
        <button class="btn" id="btnInboxBack">ZurÃ¼ck</button>
        <button class="btn" id="btnInboxClose">SchlieÃŸen</button>
        <button class="btn primary" id="btnInboxAdopt">In Workspace Ã¼bernehmen</button>
      </div>
    </div>
    <div id="inboxDetailForm" style="margin-top:12px"></div>
  </div>

  <div class="card" id="taskAssignCard">
    <h2>Aufgabe freigeben</h2>
    <div class="row" style="flex-wrap:wrap; gap:12px;">
      <label class="field" style="min-width:260px; flex:1;">
        <span>Kunde auswÃ¤hlen</span>
        <select id="assignCustomer"></select>
      </label>
      <label class="field" style="min-width:260px; flex:1;">
        <span>Formular/Vorlage</span>
        <select id="assignTemplate"></select>
      </label>
    </div>
    <div class="row" style="margin-top:12px; gap:10px; flex-wrap:wrap;">
      <button class="btn primary" id="btnAssignTask">Aufgabe erstellen</button>
      <div class="muted" id="assignMsg"></div>
    </div>
  </div>
</section>

<section class="panel" id="documents">
<div class="card">
<div class="row between">
<h1>Aufenthalte</h1>
<button class="btn" id="btnExportAll">Export: Backup (JSON)</button>
</div>
<div class="list" id="docList"></div>
</div>
</section>
<section class="panel" id="dogs">
<div class="card">
<div class="row between">
<h1>Hunde/Kunden</h1>
<button class="btn primary" id="btnAddDog">Neu anlegen</button>
</div>
<div class="card" id="cpEditor" style="display:none; margin-top:12px;">
<h2 id="cpEditorTitle">Kunde &amp; Hund</h2>
<div class="row" style="flex-wrap:wrap; gap:12px;">
<label class="field" style="min-width:260px;">
<span><strong>Bestehenden Kunden nutzen</strong></span>
<input id="useExistingCustomer" style="width:22px;height:22px;" type="checkbox"/>
</label>
<label class="field" style="min-width:260px;">
<span>Kunde auswÃ¤hlen</span>
<select id="customerSelect"></select>
</label>
</div>
<div class="grid2">
<div class="card">
<h3>Kunde (Halter)</h3>
<div class="row" style="flex-wrap:wrap; gap:12px;">
<h3>Kunde (Halter)</h3>
<div class="row" style="flex-wrap:wrap; gap:12px;">
<label class="field"><span>Name <span class="req">*</span></span><input id="c_name" placeholder="Max MÃ¼ller" type="text"/></label>
<label class="field"><span>Telefon <span class="req">*</span></span><input id="c_phone" placeholder="+49 ..." type="tel"/></label>
</div>
<details class="opt">
<summary>Adresse &amp; Kontakt (optional)</summary>
<div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
<label class="field"><span>Eâ€‘Mail</span><input id="c_email" placeholder="mail@..." type="email"/></label>
<label class="field"><span>StraÃŸe/Hausnr.</span><input id="c_street" type="text"/></label>
<label class="field"><span>PLZ</span><input id="c_zip" type="text"/></label>
<label class="field"><span>Ort</span><input id="c_city" type="text"/></label>
</div>
</details>
<details class="opt">
<summary>Notfall &amp; Abholung (optional)</summary>
<div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
<label class="field"><span>Notfallkontakt â€“ Name</span><input id="c_em_name" type="text"/></label>
<label class="field"><span>Notfallkontakt â€“ Telefon</span><input id="c_em_phone" type="tel"/></label>
<label class="field" style="min-width:100%;"><span>Abholberechtigt (Freitext)</span><input id="c_pickup_auth" placeholder="z.B. Oma, Nachbar, ..." type="text"/></label>
</div>
</details>
<details class="opt" open="">
<summary>Notizen (optional)</summary>
<div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
<label class="field" style="min-width:100%;"><span>Interne Notiz</span><textarea id="c_note" rows="2"></textarea></label>
</div>
</details>
</div>
</div>
<div class="card">
<h3>Hund</h3>
<div class="row" style="flex-wrap:wrap; gap:12px;">
<h3>Hund</h3>
<div class="row" style="flex-wrap:wrap; gap:12px;">
<label class="field"><span>Name <span class="req">*</span></span><input id="p_name" placeholder="Bello" type="text"/></label>
<label class="field"><span>Rasse / Mix</span><input id="p_breed" type="text"/></label>
<label class="field"><span>Geburtsdatum</span><input id="p_birthdate" type="date"/></label>
</div>
<div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
<label class="field"><span>Gechippt? <span class="req">*</span></span>
<select id="p_chipStatus">
<option value="">â€” bitte wÃ¤hlen â€”</option>
<option value="yes">Ja</option>
<option value="no">Nein</option>
</select>
</label>
<label class="field"><span>Chipnummer (wenn Ja)</span><input id="p_chipNumber" type="text"/></label>
</div>
<details class="opt">
<summary>Gesundheit (optional)</summary>
<div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
<label class="field"><span>Tierarzt (Name/Ort)</span><input id="p_vet" type="text"/></label>
<label class="field"><span>Tierarzt Telefon</span><input id="p_vetPhone" type="tel"/></label>
<label class="field" style="min-width:100%;"><span>Allergien / UnvertrÃ¤glichkeiten</span><textarea id="p_allergies" rows="2"></textarea></label>
<label class="field" style="min-width:100%;"><span>Dauermedikation (Name + Dosierung)</span><textarea id="p_meds" rows="2"></textarea></label>
</div>
</details>
<details class="opt">
<summary>Alltag &amp; Verhalten (optional)</summary>
<div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
<label class="field"><span>Standard-Futter</span><input id="p_food" type="text"/></label>
<label class="field"><span>FÃ¼tterung (Menge/Zeiten)</span><input id="p_feeding" type="text"/></label>
<label class="field"><span>VertrÃ¤glichkeit</span><input id="p_compat" placeholder="z.B. freundlich / nur HÃ¼ndinnen / ..." type="text"/></label>
<label class="field" style="min-width:100%;"><span>Ã„ngste/Trigger/Besonderheiten</span><textarea id="p_behavior" rows="2"></textarea></label>
</div>
</details>
<details class="opt" open="">
<summary>Notizen (optional)</summary>
<div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
<label class="field" style="min-width:100%;"><span>Interne Notiz</span><textarea id="p_note" rows="2"></textarea></label>
</div>
</details>
</div>
</div>
</div>
<div class="row" style="gap:10px; margin-top:10px;">
<button class="btn primary" id="btnCpSave">Speichern</button>
<button class="btn" id="btnCpCancel">Abbrechen</button>
</div>
<div class="hint" id="cpHint" style="margin-top:10px;"></div>
</div>
<div class="list" id="dogList"></div>
</div>
</section>
<section class="panel" id="contract">
  <div class="card">
    <h2>Betreuungsvertrag</h2>
    <div id="contractStatusBanner" class="muted" style="margin-bottom:10px;"></div>

    <div class="contract-wrap">
      <div class="contract-doc">
        <div class="contract-head">
          <div class="contract-brand">
            <img src="assets/logo.png" alt="Doggy Style" class="contract-logo"/>
            <div>
              <div class="contract-title" id="contractTitle">Betreuungsvertrag fÃ¼r Hunde</div>
              <div class="contract-meta" id="contractMeta">Doggy Style Hundepension Â· Version v1.0 Â· GÃ¼ltig ab 27.12.2025</div>
            </div>
          </div>
        </div>

        <div class="contract-text" id="contractText"></div>
      </div>

      <div class="contract-side">
        <div class="contract-card">
          <h3>Unterschrift</h3>

          <div class="row">
            <label>Kunde</label>
            <select id="contractCustomerSelect"></select>
          </div>

          <div class="row">
            <label>Hund</label>
            <select id="contractPetSelect"></select>
          </div>

          <label class="checkline">
            <input type="checkbox" id="contractAcceptChk">
            <span>Ich habe den Betreuungsvertrag gelesen und akzeptiere ihn.</span>
          </label>

          <div class="sigbox">
            <canvas id="contractSig" width="520" height="180"></canvas>
          </div>

          <div class="actions">
            <button class="smallbtn" id="contractSigClear">Unterschrift lÃ¶schen</button>
            <button class="primary" id="contractSignBtn">Unterschreiben</button>
            <button class="btn" id="contractPdfBtn" type="button">ğŸ“„ PDF</button>
          </div>

          <div class="muted" id="contractSignedInfo" style="margin-top:10px;"></div>
        </div>

        <div class="contract-card" id="contractAdminBox" style="display:none;">
          <h3>Admin</h3>
          <div class="muted">Wenn du den Vertrag Ã¤nderst, wird automatisch eine neue Version erzeugt und Kunden mÃ¼ssen neu unterschreiben.</div>
          <div class="row">
            <label>Vertragstext bearbeiten</label>
            <textarea id="contractEditText" rows="10"></textarea>
          </div>
          <div class="actions">
            <button class="smallbtn" id="contractResetEdit">ZurÃ¼cksetzen</button>
            <button class="primary" id="contractPublish">Neue Version verÃ¶ffentlichen</button>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>


<section class="panel" id="workforms">
  <div class="panel__head">
    <h2>ArbeitsblÃ¤tter</h2>
    <div class="muted">Nachweise & Ãœbersichten fÃ¼r den Tagesbetrieb (Archiv + Unterschrift)</div>
  </div>

  <div class="glass-grid">
    <button class="glass-card" id="wfBtnTodayPrint">
      <div class="glass-card__title">Heute drucken</div>
      <div class="glass-card__sub">Sammel-PDF: Heute-Ãœbersicht, Kommen/Gehen, HundeblÃ¤tter, Schichtblatt</div>
    </button>

    <button class="glass-card" id="wfBtnHygiene">
      <div class="glass-card__title">Hygiene-Nachweis</div>
      <div class="glass-card__sub">TÃ¤glicher Nachweis mit Unterschrift & Archiv</div>
    </button>

    <button class="glass-card" id="wfBtnShift">
      <div class="glass-card__title">Ãœbergabe / Schichtblatt</div>
      <div class="glass-card__sub">Heute aufgefallen Â· Morgen beachten Â· Unterschrift</div>
    </button>

    <button class="glass-card" id="wfBtnIncident">
      <div class="glass-card__title">Ereignisprotokoll</div>
      <div class="glass-card__sub">Nur bei Bedarf â€“ fÃ¼r VorfÃ¤lle/NotfÃ¤lle</div>
    </button>

    <button class="glass-card" id="wfBtnArchive">
      <div class="glass-card__title">Archiv</div>
      <div class="glass-card__sub">Alle abgeschlossenen Nachweise â€“ PDF jederzeit</div>
    </button>
  </div>

  <div id="workformsView" class="workforms-view"></div>
</section>

<section class="panel" id="settings">
<div class="card">
<h1>Einstellungen</h1>
<p>Speichern passiert automatisch â€“ lokal (Offlineâ€‘First) und optional zusÃ¤tzlich in der Cloud (wenn Firebase aktiv ist).</p>

<div class="card" id="adminTaskCard" style="margin-top:12px; display:none;">
  <h2>Kundenaufgabe freigeben</h2>
  <p class="muted" style="margin-top:6px">Erstelle eine Aufgabe fÃ¼r einen registrierten Kunden (z.â€¯B. Hundeannahme). Der Kunde sieht danach nur dieses Formular in seinem Kundenportal.</p>
  <div class="row" style="flex-wrap:wrap; gap:12px; margin-top:10px;">
    <label class="field" style="min-width:260px; flex:1;">
      <span>Kunde suchen</span>
      <input id="taskCustomerSearch" type="text" placeholder="E-Mail suchenâ€¦"/>
    </label>
    <label class="field" style="min-width:260px; flex:1;">
      <span>Kunde auswÃ¤hlen</span>
      <select id="taskCustomerSelect"></select>
    </label>
    <div class="row" style="gap:10px; align-items:flex-end; margin-top:0; flex-wrap:wrap;">
      <button class="btn" id="btnCustomersMore" type="button">Mehr laden</button>
      <span class="muted" id="taskCustomerCount"></span>
    </div>

    <label class="field" style="min-width:260px; flex:1;">
      <span>Formular/Vorlage</span>
      <select id="taskTemplateSelect"></select>
    </label>
    <label class="field" style="min-width:260px; flex:2;">
      <span>Titel</span>
      <input id="taskTitleInput" type="text" placeholder="z.â€¯B. Hundeannahme â€“ Erstanmeldung"/>
    </label>
  </div>
  <div class="row" style="gap:10px; margin-top:10px; flex-wrap:wrap;">
    <button class="btn primary" id="btnTaskCreate">Aufgabe freigeben</button>
    <span class="muted" id="taskCreateMsg"></span>
  </div>
</div>

<div class="card" id="adminUserCard" style="margin-top:12px; display:none;">
  <h2>Benutzer &amp; Rollen</h2>
  <p class="muted" style="margin-top:6px">Admin kann Rollen setzen (admin / staff / customer).</p>
  <div class="row between" style="gap:12px; flex-wrap:wrap; margin-top:10px;">
    <button class="btn" id="btnUsersRefresh">Aktualisieren</button>
    <span class="muted" id="usersMsg"></span>
  </div>
  <div class="list" id="usersList" style="margin-top:10px"></div>
</div>

<div class="card" style="margin-top:12px">
  <h2>Speicher &amp; Backup</h2>
  <div class="row">
    <button class="btn" id="btnBackupExport">â¬‡ï¸ Backup exportieren (JSON)</button>
    <button class="btn" id="btnBackupImport">â¬†ï¸ Backup importieren</button>
    <input id="fileBackupImport" type="file" accept="application/json" style="display:none"/>
  </div>
  <div class="hint" id="backupHint">Tipp: Backup-Dateien am besten in <strong>Dateien</strong> ablegen (z.â€¯B. <em>DoggyStyle/Backups</em>).</div>
</div>

<div class="card" style="margin-top:12px">
  <h2>Cloud &amp; Konto</h2>
  <div class="row">
    <div class="field" style="min-width:260px;flex:2">
      <span>Status</span>
      <div class="sync-box" id="syncDetails">â€”</div>
    </div>
    <button class="btn" id="btnLogoutApp" style="display:none">Abmelden</button>
  </div>
</div>

<div class="row" style="margin-top:12px">
  <button class="btn danger" id="btnWipe">Alle lokalen Daten lÃ¶schen</button>
</div>
<div class="hint">
          PDFs archivierst du am besten in <strong>Dateien</strong> in einem Ordner z.â€¯B. <em>DoggyStyle/Docs</em>.
        </div>
</div>
</section>
<section class="panel" id="invoices">
<h2>Rechnungen</h2>
<div id="invoiceList"></div>
<div id="invoiceView"></div>
</section>
<section class="panel" id="editor">
<div class="card sticky">
<div class="row between">
<div>
<h1 id="editorTitle">Dokument</h1>
<div class="card" id="versionBox" style="margin-top:12px"></div>
<div class="muted" id="editorMeta"></div>
<div class="warn-banner" id="contractWarnBanner" style="display:none; margin-top:10px;"></div>
</div>
<div class="row">
<button class="btn" id="btnSave">Speichern</button>
<button class="btn secondary" id="btnCreateInvoice">
  ğŸ§¾ Rechnung erstellen
</button>
<button class="btn" id="btnPrint">Als PDF speichern (Drucken)</button>
<button class="btn" id="btnClose">SchlieÃŸen</button>
</div>
</div>
</div>
<div class="card">
<div class="row">
<label class="field">
<span>Hund auswÃ¤hlen</span>
<select id="dogSelect"></select>
<small class="muted" id="customerInfo" style="display:block;margin-top:6px"></small>
</label>
<label class="field">
<span>Dokumentâ€‘Name</span>
<input id="docName" placeholder="z.B. Hundeannahme_MÃ¼ller_Bello" type="text"/>
</label>
</div>
</div>
<div id="editorContent">
<div id="formRoot"></div>
</div>
<div class="card">
<h2>Datenschutz (DSGVO)</h2>
<p class="muted" id="dsGvoText"></p>
</div>
</section>
</main>
<footer class="footer">
<span>Â© Doggy Style Workspace Â· Offlineâ€‘PWA</span>
</footer>
</div>
<!-- Firebase (optional) + Config -->
<script defer="defer" src="firebase-config.js?v=20251228a"></script>
<script defer="defer" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
<script defer="defer" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-auth-compat.js"></script>
<script defer="defer" src="https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore-compat.js"></script>
<script defer="defer" src="app.js?v=20251228a"></script>
<script>
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js?v=20251227e');
  </script>
<!-- Dummy fÃ¼r Legacy-Signatur -->
<canvas height="1" id="sigPad" style="display:none" width="1"></canvas>
</body>
</html>
